# 核心问题

- 高并发
- 数据一致性
- 安全性
- 用户体验

# 处理方案

## 高并发情况处理

1. 使用 CDN 分流流量
2. 垂直与水平扩展（秒杀最好考虑水平扩展，在流量大的时候能够直接增加实例来降低负载）
3. 应用层优先非阻塞式架构

## 数据库处理

1. 分库分表
2. 合理使用乐观锁与悲观锁
3. 合理使用缓存

## 库存处理

1. 先扣货再处理（预减库存策略）
2. 使用基于消息队列的异步处理

## 安全方面考量

1. 防止恶意刷单和机器人
  1. 限流
  2. 验证，需要区分真人和机器人
  3. 行为分析
  4. 使用 Token，并且是一次性的 Token
2. 超卖处理
  1. 数据库的乐观锁
  2. 使用独立的消息队列来处理
  3. 进行库存预检

## 用户体验方面

1. 实时反馈秒杀进度，不能给用户造成一直假死的现象
2. 排队与通知机制

# 大型电商的处理

1. 分布式系统与微服务
2. 动态调度与自动扩展
3. 高级缓存策略
4. 更优先的防刷技术


ref：

1. [场景面试 | 秒杀背后的技术：如何处理高并发并确保公平购买 - 掘金](https://juejin.cn/post/7287914073315754039)