LSM 树的一般概念是缓冲对内存中数据结构的写入，最好是易于以排序方式迭代的数据结构（例如 AVL 树/红黑树/跳过列表），一旦达到一定容量，就将其刷新 排序到一个称为排序字符串表或 SSTable 的新文件。 SSTable 存储排序的数据，让我们可以利用二分搜索和稀疏索引来减少磁盘 I/O 量。

![[assets/9bffd2690e0cc348ac65e8c6bf2c68a8_MD5.jpeg]]

# 读取

从 LSM 树读取是通过首先在内存中的数据结构中搜索提供的键的项目来完成的，如果没有找到，则通过迭代所有 SSTable 来搜索该项目磁盘，从最新到最旧。

![[assets/9f2db9b1ad452b90223564d846f9d1f3_MD5.jpeg]]