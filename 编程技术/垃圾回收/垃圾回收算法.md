# 节点复制

主要思想 ：将存活的内存从一个内存区域复制到另外一个内存区域

优点：

1. 高效内存分配
  1. 线性分配
  2. 避免碎片
2. 快速的垃圾回收：只处理存活对象；简化的引用更新
3. 支持并发和并行垃圾回收：并发复制

缺点：

1. 内存开销：双倍内存；空间浪费
2. 适用性有限：适用于年轻代；不适用于老年代
# 分代收集：

基于对象生命周期假设：大多数对象在创建后很快就会变得不可达，而少数对象会存活较长时间。通过将堆内存分为多个代，并对不同代采用不同的垃圾回收策略。

主要思想：

1. 年轻代：存放新创建的对象。回收策略：采用较频繁的垃圾回收，因此绝大多数对象会在此代中被回收
2. 老年代：存放从年轻代中晋升的长寿对象。采用较少频繁但更全面的垃圾回收，回收频率不需要太高
3. 持久代：存放类元数据和方法区内容（Java8之后后专门的 metaspce）。根据需要进行回收，通常不需要回收。 

优点：

1. 提高垃圾回收效率：针对性强，减少暂停时间
2. 提高内存效率：减少内存碎片，优化内存分配
3. 更好地适应多线程环境：并发回收

缺点：

1. 额外复杂性：实现复杂，调优复杂
2. 晋升代的开销
3. 不适用于所有应用：对象生命周期不均匀

# 三色标记算法

颜色标记的意义：

- 黑色：标识对象已经被扫描，并且所有引用对象都已经被标记，黑色对象不会被回收
- 灰色：标识对象已经被发现并且被标记，但其引用对象还没有被扫描，灰色对象需要进一步处理
- 白色：标识对象还没有被标记，如果在垃圾回收结束时，对象任然是白色的，那么它将会被回收

三色标记步骤

1. 初始化：所有对象都被标记为白色。根对象被标记为灰色，并放入下个待处理队列中
2. 标记阶段：从待处理队列中取出一个灰色对象，并将其标记为黑色。遍历该对象的所有引用：如果被引用的对象是白色的，将其标记为灰色，并放入待处理队列中。重复这一个步骤
3. 清除阶段：遍历所有阶段，根据颜色进行清除
