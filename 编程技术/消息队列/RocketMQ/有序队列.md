## 基础概念

对于一个指定的`Topic`，消息严格按照先进先出（`FIFO`）的原则进行消息发布和消费。

- 即先发送的消息先消费，后发送的消息后消费。

顺序消息适用于对消息发送和消费顺序有严格要求的情况。

![[assets/51a06bf46631833677cbfa733cca4870_MD5.jpeg]]

## 消息分类

### 全局有序

可以为`Topic`设置一个消息队列，使用一个生产者单线程发送数据，消费者端也使用单线程进行消费。

从而保证消息的全局有序，但是这种方式效率低，一般不使用。

### 局部有序

生产者在发送消息的时候，可以对消息设置一个路由ID。消费者端使用`MessageListenerOrderly`处理有序消息。

因为广播模式下，消息队列会分配给消费者下的每一个消费者。

而在集群模式下，一个消息队列同一时刻只能被同一个消费组下的某一个消费者进行。

## ref

- [RocketMQ顺序消息解析！相关文章： RocketMQ延时消息解析！ RocketMQ消息重试机制解析！ Rocke - 掘金](https://juejin.cn/post/7444454304980910121)