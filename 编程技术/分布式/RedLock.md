# 实现

1. 获取当前时间（毫秒）
2. 它尝试顺序地获取所有 N 个实例中的锁，在所有实例中使用相同的密钥名称和随机值。
3. 客户端通过从当前时间中减去在步骤 1 中获得的时间戳来计算获取锁所花费的时间。
4. 如果锁被获取，则其有效时间被认为是初始有效时间减去经过的时间，如在步骤 3 中计算的。
5. 如果未获取锁（在 N/2+1 实例中），则在所有实例中执行删除指令

此算法依赖于一个假设，系统和本地时钟都在近似相同速率更新，误差浮动比较小

> 但是实际上可能会发生跃迁

# 可能失效的情况

- 时钟发生跃迁
- 长时间的 GC pause
- 长时间的网络延迟