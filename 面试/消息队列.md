## 消息可靠性的保证

可靠性传输机制：

- 持久化存储
- 消息确认机制
- 重试机制
- 幂等性处理

消息的可靠传达：

1. 生产阶段：消息队列通过最常用的请求确认机制，来保证消息的可靠传递
2. 存储阶段（在消息队列中）：持久化存储，高可用部署
3. 消费阶段：消费阶段采用和生产阶段类似的确认机制来保证消息的可靠传递

## 消息的有序性

消息的有序性，需要保证的是整个消息从生产，排队，存储到消费都是有序的

实现方式：

一种方式可以对消息生成不同的消息标识，将统一标识的消息统一推送到同一个队列，并且由一个服务单独消费一个消息队列，然后再分发到对应的业务系统中，这样我们就可以保证消息消费的有序性。

